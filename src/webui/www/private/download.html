<!DOCTYPE html>
<html lang="${LANG}">

<head>
    <meta charset="UTF-8" />
    <title>QBT_TR(Add Torrent Links)QBT_TR[CONTEXT=downloadFromURL]</title>
    <link rel="stylesheet" href="css/style.css" type="text/css" />
    <link rel="stylesheet" href="css/Window.css" type="text/css" />
    <script src="scripts/lib/mootools-1.2-core-yc.js"></script>
    <script src="scripts/download.js"></script>
</head>

<body>
    <iframe id="download_frame" name="download_frame" class="invisible" src="javascript:false;"></iframe>
    <form action="api/v2/torrents/add" enctype="multipart/form-data" method="post" id="downloadForm" style="text-align: center;" target="download_frame">
        <div style="text-align: center;">
            <br/>
            <h2 class="vcenter">QBT_TR(Download Torrents from their URLs or Magnet links)QBT_TR[CONTEXT=HttpServer]</h2>
            <textarea id="urls" rows="10" name="urls"></textarea>
            <p>QBT_TR(Only one link per line)QBT_TR[CONTEXT=HttpServer]</p>
            <fieldset class="settings" style="border: 0; text-align: left;">
                <div class="formRow" style="margin-top: 6px;">
                    <label for="savepath" class="leftLabelLarge">QBT_TR(Save files to location:)QBT_TR[CONTEXT=HttpServer]</label>
                    <input type="text" id="savepath" name="savepath" style="width: 16em;" />
                </div>
                <div class="formRow">
                    <label for="cookie" class="leftLabelLarge">QBT_TR(Cookie:)QBT_TR[CONTEXT=HttpServer]</label>
                    <input type="text" id="cookie" name="cookie" style="width: 16em;" />
                </div>
                <div class="formRow">
                    <label for="rename" class="leftLabelLarge">QBT_TR(Rename torrent)QBT_TR[CONTEXT=HttpServer]</label>
                    <input type="text" id="rename" name="rename" style="width: 16em;" />
                </div>
                <div class="formRow">
                    <label for="category" class="leftLabelLarge">QBT_TR(Category:)QBT_TR[CONTEXT=AddNewTorrentDialog]</label>
                    <input type="text" id="category" name="category" style="width: 16em;" />
                </div>
                <div class="formRow">
                    <label for="start_torrent" class="leftLabelLarge">QBT_TR(Start torrent)QBT_TR[CONTEXT=AddNewTorrentDialog]</label>
                    <input type="checkbox" id="start_torrent" checked="checked" />
                    <input type="hidden" id="add_paused" name="paused" value="true" disabled="disabled" />
                </div>
                <div class="formRow">
                    <label for="skip_checking" class="leftLabelLarge">QBT_TR(Skip hash check)QBT_TR[CONTEXT=AddNewTorrentDialog]</label>
                    <input type="checkbox" id="skip_checking" name="skip_checking" value="true" />
                </div>
                <div class="formRow">
                    <label for="root_folder" class="leftLabelLarge">QBT_TR(Create subfolder)QBT_TR[CONTEXT=AddNewTorrentDialog]</label>
                    <input type="checkbox" id="root_folder" name="root_folder" value="true" checked="checked" />
                </div>
                <div class="formRow">
                    <label for="sequentialDownload" class="leftLabelLarge">QBT_TR(Download in sequential order)QBT_TR[CONTEXT=TransferListWidget]</label>
                    <input type="checkbox" id="sequentialDownload" name="sequentialDownload" value="true" />
                </div>
                <div class="formRow">
                    <label for="firstLastPiecePrio" class="leftLabelLarge">QBT_TR(Download first and last pieces first)QBT_TR[CONTEXT=TransferListWidget]</label>
                    <input type="checkbox" id="firstLastPiecePrio" name="firstLastPiecePrio" value="true" />
                </div>
                <div class="formRow">
                    <label for="dlLimit" class="leftLabelLarge">QBT_TR(Limit download rate)QBT_TR[CONTEXT=HttpServer]</label>
                    <input type="text" id="dlLimit" name="dlLimit" style="width: 16em;" placeholder="Bytes/s" />
                </div>
                <div class="formRow">
                    <label for="upLimit" class="leftLabelLarge">QBT_TR(Limit upload rate)QBT_TR[CONTEXT=HttpServer]</label>
                    <input type="text" id="upLimit" name="upLimit" style="width: 16em;" placeholder="Bytes/s" />
                </div>
                <div id="submitbutton" style="margin-top: 12px; text-align: center;">
                    <button type="submit" id="submitButton">QBT_TR(Download)QBT_TR[CONTEXT=downloadFromURL]</button>
                </div>
            </fieldset>
        </div>
    </form>
    <script>
        var submitted = false;

        $('downloadForm').addEventListener("submit", function() {
            $('download_spinner').style.display = "block";
            submitted = true;
        });

        $('download_frame').addEventListener("load", function() {
            if (submitted)
                window.parent.closeWindows();
        });

        $('start_torrent').addEventListener('change', function() {
            $('add_paused').disabled = $('start_torrent').checked;
        });
    </script>
    <div id="download_spinner" class="mochaSpinner"></div>
</body>

</html>
